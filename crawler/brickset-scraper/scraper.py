import scrapyimport logging# todo scrapy doesn't support python 3.7 as of now (7/12/2018)# currently i configured the project using python 3.6class BrickSetSpider(scrapy.Spider):    def __init__(self, *args, **kwargs):        logger = logging.getLogger('scrapy.core.scraper')        logger.setLevel(logging.DEBUG)        super().__init__(*args, **kwargs)    name = "brickset_spider"    start_urls = ['http://brickset.com/sets/year-2016']    def parse(self, response):        SET_SELECTOR = '.set'        for brickset in response.css(SET_SELECTOR):            NAME_SELECTOR = 'h1 ::text'            IMAGE_SELECTOR = 'img ::attr(src)'            PIECE_SELECTOR = './/dl[dt/text() = "Pieces"]/dd/a/text()'            MINIFIGS_SELECTOR = './/dl[dt/text() = "Minifigs"]/dd[2]/a/text()'            PRICE_SELECTOR = './/dl[dt/text() = "RRP"]/dd/text()'            TAGS_SELECTOR = ".//div[@class='tags']"            yield {                'name': brickset.css(NAME_SELECTOR).extract_first(),                'pieces': brickset.xpath(PIECE_SELECTOR).extract_first(),                'minifigs': brickset.xpath(MINIFIGS_SELECTOR).extract_first(),                'image': brickset.css(IMAGE_SELECTOR).extract_first(),                'price': brickset.xpath(PRICE_SELECTOR).extract_first(),            }            tag_class = brickset.xpath(TAGS_SELECTOR)            for tag in tag_class:                yield {                    'tags': tag.xpath('.//a/text()').extract()                }                # args = tag.xpath('.//a/text()').extract()                # print('tags: %s' % args)        # NEXT_PAGE_SELECTOR = '.next a ::attr(href)'        # next_page = response.css(NEXT_PAGE_SELECTOR).extract_first()        # if next_page:        #     yield scrapy.Request(        #         response.urljoin(next_page),        #         callback=self.parse        #     )